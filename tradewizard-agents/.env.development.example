# ============================================================================
# TradeWizard Monitor - Development Configuration
# ============================================================================
# This file contains development configuration for the Automated Market Monitor.
# Copy this file to .env.development and fill in your actual values.
#
# Development environment is optimized for local development with enhanced
# debugging, shorter cache times, and conservative rate limits.

# ============================================================================
# Environment
# ============================================================================
NODE_ENV=development
LOG_LEVEL=debug

# ============================================================================
# Supabase (Development) - REQUIRED
# ============================================================================
# Use local Supabase or a development project
SUPABASE_URL=http://localhost:54321
SUPABASE_KEY=your_dev_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_dev_service_role_key_here

# ============================================================================
# LLM Configuration - REQUIRED
# ============================================================================
# Use cost-effective models for development
LLM_SINGLE_PROVIDER=google
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_DEFAULT_MODEL=gemini-1.5-flash

# Alternative: OpenAI for development
# LLM_SINGLE_PROVIDER=openai
# OPENAI_API_KEY=sk-dev-your_openai_key_here
# OPENAI_DEFAULT_MODEL=gpt-4o-mini

# ============================================================================
# Polymarket API Configuration
# ============================================================================
POLYMARKET_GAMMA_API_URL=https://gamma-api.polymarket.com
POLYMARKET_CLOB_API_URL=https://clob.polymarket.com
POLYMARKET_RATE_LIMIT_BUFFER=90

# Enhanced Event-Based Configuration for Development
POLYMARKET_POLITICS_TAG_ID=2
POLYMARKET_EVENTS_API_ENDPOINT=/events
POLYMARKET_INCLUDE_RELATED_TAGS=true
POLYMARKET_MAX_EVENTS_PER_DISCOVERY=10
POLYMARKET_MAX_MARKETS_PER_EVENT=20
POLYMARKET_DEFAULT_SORT_BY=volume24hr
POLYMARKET_ENABLE_CROSS_MARKET_ANALYSIS=true
POLYMARKET_CORRELATION_THRESHOLD=0.3
POLYMARKET_ARBITRAGE_THRESHOLD=0.05

# Development Environment-Specific Configuration
POLYMARKET_DEV_EVENTS_API_RATE_LIMIT=100
POLYMARKET_DEV_MAX_REQUESTS_PER_MINUTE=30
POLYMARKET_DEV_EVENT_CACHE_TTL=60
POLYMARKET_DEV_ENABLE_DEBUG_LOGGING=true
POLYMARKET_DEV_ENABLE_MOCK_DATA=false

# Feature Flags (Development Settings)
POLYMARKET_ENABLE_EVENT_BASED_KEYWORDS=true
POLYMARKET_ENABLE_MULTI_MARKET_ANALYSIS=true
POLYMARKET_ENABLE_CROSS_MARKET_CORRELATION=true
POLYMARKET_ENABLE_ARBITRAGE_DETECTION=true
POLYMARKET_ENABLE_EVENT_LEVEL_INTELLIGENCE=true
POLYMARKET_ENABLE_ENHANCED_EVENT_DISCOVERY=true
POLYMARKET_ENABLE_MULTI_MARKET_FILTERING=true
POLYMARKET_ENABLE_EVENT_RANKING_ALGORITHM=true
POLYMARKET_ENABLE_CROSS_MARKET_OPPORTUNITIES=true

# Error Handling and Resilience (Development)
POLYMARKET_MAX_RETRIES=2
POLYMARKET_CIRCUIT_BREAKER_THRESHOLD=3
POLYMARKET_FALLBACK_TO_CACHE=true
POLYMARKET_ENABLE_GRACEFUL_DEGRADATION=true

# Analysis Configuration (Development)
POLYMARKET_KEYWORD_EXTRACTION_MODE=event_priority
POLYMARKET_CORRELATION_ANALYSIS_DEPTH=basic
POLYMARKET_RISK_ASSESSMENT_LEVEL=moderate

# ============================================================================
# Scheduling Configuration (Development)
# ============================================================================
# Frequent analysis for development testing
ANALYSIS_INTERVAL_HOURS=1
UPDATE_INTERVAL_HOURS=1
MAX_MARKETS_PER_CYCLE=1

# ============================================================================
# API Quota Management (Development)
# ============================================================================
# Very conservative quotas for development
NEWS_API_DAILY_QUOTA=20
NEWSDATA_DAILY_QUOTA=1000
TWITTER_API_DAILY_QUOTA=100
REDDIT_API_DAILY_QUOTA=20

# ============================================================================
# News API Configuration (Development)
# ============================================================================
NEWSDATA_ENABLED=true
NEWSDATA_CACHE_TTL_LATEST=300
NEWSDATA_CACHE_TTL_CRYPTO=300
NEWSDATA_CACHE_TTL_MARKET=300
NEWSDATA_CACHE_TTL_ARCHIVE=900
NEWSDATA_RATE_LIMIT_REQUESTS=200
NEWSDATA_RATE_LIMIT_WINDOW_MS=900000
NEWSDATA_CIRCUIT_BREAKER_ENABLED=true
NEWSDATA_CIRCUIT_BREAKER_THRESHOLD=2
NEWSDATA_CIRCUIT_BREAKER_TIMEOUT=15000

# ============================================================================
# Opik Configuration (Development)
# ============================================================================
OPIK_API_KEY=your_dev_opik_key_here
OPIK_PROJECT_NAME=tradewizard-monitor-dev
OPIK_WORKSPACE=development
OPIK_TRACK_COSTS=true
OPIK_TAGS=development,local,testing

# ============================================================================
# LangGraph Configuration (Development)
# ============================================================================
LANGGRAPH_CHECKPOINTER=memory
LANGGRAPH_RECURSION_LIMIT=15
LANGGRAPH_STREAM_MODE=values

# ============================================================================
# Agent Configuration (Development)
# ============================================================================
AGENT_TIMEOUT_MS=5000
MIN_AGENTS_REQUIRED=2

# ============================================================================
# Consensus Configuration (Development)
# ============================================================================
MIN_EDGE_THRESHOLD=0.05
HIGH_DISAGREEMENT_THRESHOLD=0.15

# ============================================================================
# Logging Configuration (Development)
# ============================================================================
AUDIT_TRAIL_RETENTION_DAYS=7

# ============================================================================
# Service Configuration (Development)
# ============================================================================
HEALTH_CHECK_PORT=3002
ENABLE_MANUAL_TRIGGERS=true

# ============================================================================
# External Data Sources (Development)
# ============================================================================
# Use test API keys for development
# NEWSDATA_API_KEY=your_dev_newsdata_key_here
# TWITTER_BEARER_TOKEN=your_dev_twitter_token_here

# ============================================================================
# Development-Specific Features
# ============================================================================
# Enable additional debugging and testing features
ENABLE_API_MOCKING=false
ENABLE_DETAILED_LOGGING=true
ENABLE_PERFORMANCE_PROFILING=false

# ============================================================================
# Agent Autonomous Mode Configuration
# ============================================================================
# Autonomous mode is now ENABLED BY DEFAULT (recommended)
# Agents use LangChain's tool-calling capabilities to autonomously fetch and
# analyze data during execution, providing higher quality analysis.
#
# To disable autonomous mode for a specific agent, set its variable to false:
# BREAKING_NEWS_AGENT_AUTONOMOUS=false
# MEDIA_SENTIMENT_AGENT_AUTONOMOUS=false
# MARKET_MICROSTRUCTURE_AGENT_AUTONOMOUS=false
# POLLING_AGENT_AUTONOMOUS=false

# Breaking News Agent Configuration
BREAKING_NEWS_AGENT_AUTONOMOUS=true          # Autonomous mode enabled by default
BREAKING_NEWS_AGENT_MAX_TOOL_CALLS=5         # Max tools per analysis
BREAKING_NEWS_AGENT_TIMEOUT=45000            # Timeout in milliseconds
BREAKING_NEWS_AGENT_CACHE_ENABLED=true       # Enable result caching
BREAKING_NEWS_AGENT_FALLBACK_TO_BASIC=true   # Fallback on error

# Media Sentiment Agent Configuration
MEDIA_SENTIMENT_AGENT_AUTONOMOUS=true        # Autonomous mode enabled by default
MEDIA_SENTIMENT_AGENT_MAX_TOOL_CALLS=5
MEDIA_SENTIMENT_AGENT_TIMEOUT=45000
MEDIA_SENTIMENT_AGENT_CACHE_ENABLED=true
MEDIA_SENTIMENT_AGENT_FALLBACK_TO_BASIC=true

# Market Microstructure Agent Configuration
MARKET_MICROSTRUCTURE_AGENT_AUTONOMOUS=true  # Autonomous mode enabled by default
MARKET_MICROSTRUCTURE_AGENT_MAX_TOOL_CALLS=5
MARKET_MICROSTRUCTURE_AGENT_TIMEOUT=45000
MARKET_MICROSTRUCTURE_AGENT_CACHE_ENABLED=true
MARKET_MICROSTRUCTURE_AGENT_FALLBACK_TO_BASIC=true

# Polling Agent Configuration
POLLING_AGENT_AUTONOMOUS=true                # Autonomous mode enabled by default
POLLING_AGENT_MAX_TOOL_CALLS=5
POLLING_AGENT_TIMEOUT=45000
POLLING_AGENT_CACHE_ENABLED=true
POLLING_AGENT_FALLBACK_TO_BASIC=true